<?xml version="1.0" encoding="UTF-8"?>
<configuration>
  <system.webServer>

    <!-- Omogucava da IIS prosleduje zahteve Python handleru -->
    <handlers>
      <add name="PythonHandler" 
           path="*" 
           verb="*" 
           modules="FastCgiModule" 
           scriptProcessor="C:\Users\Administrator\AppData\Local\Programs\Python\Python313\python.exe|C:\Users\Administrator\AppData\Local\Programs\Python\Python313\Lib\site-packages\wfastcgi.py"
           resourceType="Unspecified" />
    </handlers>

    <!-- Podesi FastCGI -->
    <fastCgi>
      <application fullPath="C:\Users\Administrator\AppData\Local\Programs\Python\Python313\python.exe"
                   arguments="C:\Users\Administrator\AppData\Local\Programs\Python\Python313\Lib\site-packages\wfastcgi.py"
                   instanceMaxRequests="10000">
        <environmentVariables>
          <!-- Pokrece tvoj run.py -->
          <add name="WSGI_HANDLER" value="run.app" />

          <!-- Putanja do foldera projekta -->
          <add name="PYTHONPATH" value="C:\inetpub\wwwroot\gate_app" />

          <!-- Flask okruženje -->
          <add name="FLASK_ENV" value="production" />
        </environmentVariables>
      </application>
    </fastCgi>

    <!-- Ako želiš da vidiš listu fajlova u browseru (po želji) -->
    <directoryBrowse enabled="false" />

  </system.webServer>
</configuration>


