{% extends "base.html" %}
{% block content %}

<div class="card-soft p-4 mx-auto" style="max-width:600px;">
  <h4 class="fw-bold mb-3">Moj profil</h4>

  <!-- INFO BLOK -->
  <div class="border rounded p-3 bg-white mb-4">
    <div class="d-flex justify-content-between mb-2">
      <span class="fw-semibold text-secondary">Ime i prezime:</span>
      <span class="fw-bold">{{ session.get('full_name') }}</span>
    </div>
    <div class="d-flex justify-content-between mb-2">
      <span class="fw-semibold text-secondary">Email:</span>
      <span class="fw-bold">{{ session.get('user_email') }}</span>
    </div>
    <div class="d-flex justify-content-between">
      <span class="fw-semibold text-secondary">Rola:</span>
      <span class="badge bg-primary">{{ session.get('role') }}</span>
    </div>
  </div>

  <hr>

  <!-- PROMENA LOZINKE -->
  <h5 class="fw-bold mb-3">Promena lozinke</h5>

  {% if message %}
  <div class="alert alert-success">{{ message }}</div>
  {% endif %}
  {% if error %}
  <div class="alert alert-danger">{{ error }}</div>
  {% endif %}

  <form method="POST" class="d-grid gap-3">

    <div>
      <label class="form-label fw-semibold">Trenutna lozinka</label>
      <input type="password" name="old_password" class="form-control" required>
    </div>

    <div>
      <label class="form-label fw-semibold">Nova lozinka</label>
      <input type="password" name="new_password" class="form-control" minlength="3" required>
    </div>

    <div>
      <label class="form-label fw-semibold">Ponovi novu lozinku</label>
      <input type="password" name="repeat_password" class="form-control" required>
    </div>

    <button class="btn btn-primary w-100 mt-2">Saƒçuvaj novu lozinku</button>
  </form>
</div>

{% endblock %}
